# NarouSkinPacksスクリプト一覧

このディレクトリには、NarouSkinPacksプラグインの開発、デプロイ、検証をサポートするための各種スクリプトが含まれています。

## スクリプト一覧

### deploy-and-verify.sh

プラグインのビルドからデプロイ、動作確認までの一連のプロセスを自動化するスクリプトです。

**主な機能:**
- SSH接続の確認
- Gradleによるビルド
- リモートサーバーへのアップロード
- サーバー起動状態の確認と必要に応じた起動
- テスト手順の表示
- サーバーコンソールへの接続

**使用方法:**
```bash
./scripts/deploy-and-verify.sh
```

### deploy-narou.sh

ビルドしたNarouSkinPacksプラグインをリモートサーバーにデプロイするためのスクリプトです。

**主な機能:**
- ローカルのJARファイルをリモートサーバーにコピー
- 既存のプラグインをバックアップ
- サーバーの稼働状態の確認
- 必要に応じたリロード指示

**使用方法:**
```bash
./scripts/deploy-narou.sh
```

### mc-console.sh

リモートサーバーで動作しているMinecraftサーバーのscreenセッションに接続するためのスクリプトです。

**主な機能:**
- 実行中のscreenセッション一覧表示
- 複数のセッションがある場合のセッション選択
- セッションが存在しない場合のサーバー起動機能
- よく使うコマンドのリファレンス表示

**使用方法:**
```bash
./scripts/mc-console.sh
```

### start-mc-server.sh

リモートサーバー上のMinecraftサーバーを起動するためのスクリプトです。

**主な機能:**
- JARファイル名とメモリ割り当て量の指定
- サーバーの起動状態確認
- サーバー起動とscreenセッション作成
- 必要に応じたセッションへの接続

**使用方法:**
```bash
./scripts/start-mc-server.sh [JAR_FILE] [MEMORY]
```
**例:**
```bash
./scripts/start-mc-server.sh spigot-1.12.2.jar 4G
```

### verify-plugin.sh

NarouSkinPacksプラグインの検証プロセスを支援するスクリプトです。

**主な機能:**
- ビルド済みJARファイルの確認
- リモートサーバーへのデプロイ選択
- Minecraftサーバーの起動と確認
- 検証のためのサーバーコンソール接続

**使用方法:**
```bash
./scripts/verify-plugin.sh
```

## 環境設定

これらのスクリプトは以下の共通の設定を使用します：

- リモートユーザー: `opc`
- リモートホスト: `152.69.192.181`
- SSHキー: `~/.ssh/ssh-key-2021-11-26.key`
- リモートサーバーディレクトリ: `/home/opc/servers/paper` または `/home/opc/servers/ros`

独自の環境で使用する場合は、各スクリプト内の接続設定を編集してください。

## 共通コマンド

サーバーコンソールに接続した後、以下のコマンドが一般的に利用されます：

- `/help` - ヘルプの表示
- `/list` - オンラインプレイヤーの一覧表示
- `/nsp reload` - NarouSkinPacksプラグインのリロード
- `/nsp setuseskin <プレイヤー名> <スキン名>` - プレイヤーのスキンを設定
- `/nsp coins check <プレイヤー名>` - プレイヤーのコイン残高を確認

## 注意事項

- サーバーコンソールから抜けるには `Ctrl+A, D` を押してください。
- スクリプトの実行には実行権限が必要です。必要に応じて `chmod +x scripts/*.sh` を実行してください。 